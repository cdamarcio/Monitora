<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Monitora DOM - KM Engenharia</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f4; padding: 20px; }
        .card { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border-top: 8px solid #2c3e50; }
        h1 { color: #2c3e50; text-align: center; }
        .item { padding: 15px; margin: 10px 0; border-radius: 6px; border: 1px solid #ddd; }
        /* COR QUANDO ACHAR PDF REAL */
        .novo { background: #e8f5e9; border-left: 6px solid #27ae60; animation: pulse 2s infinite; }
        /* COR QUANDO ESTIVER VAZIO */
        .vazio { background: #fff; border-left: 6px solid #bdc3c7; }
        a { text-decoration: none; color: #2980b9; font-weight: bold; font-size: 1.1em; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
    </style>
</head>
<body>
    <div class="card">
        <h1>KM Engenharia</h1>
        <p style="text-align:center">Fiscalização Diário Oficial - CDA</p>
        <div id="conteudo">Buscando atualizações...</div>
    </div>

    <script>
        async function carregar() {
            const res = await fetch('https://raw.githubusercontent.com/cdamarcio/Monitora/main/dados.json?t=' + Date.now());
            const data = await res.json();
            const div = document.getElementById('conteudo');
            div.innerHTML = '';

            for (let mes in data) {
                data[mes].forEach(item => {
                    const classe = item.novo ? 'novo' : 'vazio';
                    div.innerHTML += `
                        <div class="item ${classe}">
                            <a href="${item.url}" target="_blank">${item.nome}</a>
                        </div>`;
                });
            }
        }
        carregar();
    </script>
</body>
</html>